---
tags: ["课程","Games101","图形学"]
categories:
  - 图形学
  - Games101
  - 课程
series: ["课程"]
date: 2023-09-27
title: 11 几何（曲线与曲面） 
password: 211511011
message: 此文章转载请与作者处观看https://www.yuque.com/gaoshanliushui-mbfny
---
# 贝塞尔曲线

## 定义

贝塞尔曲线：由控制点和线段组成的曲线，控制点是可拖动的支点。
![](/images/posts/1694856373751-c5c351cc-c0e7-4111-87c7-5170f1720957.png)
如图，蓝色为贝塞尔曲线，$p_{1},p_{2},p_{3}$为控制点，曲线和初始与终止端点相切，并且经过起点$p_{0}$与终点$p_{3}$。

## de Casteljau Algorithm

de Casteljau算法描述了如何用多个点画出一条贝塞尔曲线。
其核心是**线性插值**和**递归**。
贝塞尔曲线的定义很像参数方程，给定一个参数$t\in[0,1]$就能确定贝塞尔曲线上的一点，倘若取完所有t值，就能得到完整的贝塞尔曲线。

一阶贝塞尔曲线
![](/images/posts/1694856373757-67e8d3c8-a904-4595-82b2-22e24a0ebd98.png)
通过线性插值，可以算出线段上点的坐标：

$\begin{aligned}
B_{1}(t)=P_{0}+(P_{1}-P_{0})t\\ 
B_{1}(t) = (1-t)P_{0}+tP_{1}, t\in
\end{aligned}$

二阶贝塞尔曲线
![](/images/posts/1694856373730-17fd4712-3901-4a0c-8f02-3473a8fbfe53.png)
首先在$b_{0}b_{1}$上进行一阶贝塞尔曲线得到点$b_{0}^{1}$，再在$b_{1}b_{2}$上进行一阶贝塞尔曲线得到点$b_{1}^{1}$，再在$b_{0}^{1}b_{1}^{1}$上进行一阶贝塞尔曲线得到点$b_{0}$。之后再连接$b_{0}b_{0}^{2}b_{2}$就可以得到蓝色的贝塞尔曲线。

三阶贝塞尔曲线
![](/images/posts/1694856373758-e07de3ae-3eb6-4e04-be2a-1f5b650c9b35.png)
同理。

## 代数式表达

将贝塞尔曲线展开可以得到n阶贝塞尔曲线的代数表达式：
![](/images/posts/1694856373791-f7af8acf-6ff1-4db5-a7e7-a49f40e7ee00.png)
注：

$\large
\left(\begin{matrix}n\\ i\end{matrix}\right)=C_{n}^{i}$

以二阶贝塞尔曲线展开为例
![](/images/posts/1694856374446-5aa15848-ddef-43c5-9227-4051dff83eff.png)

## 性质

- 必定经过起始与终止控制点
- 必定经与起始与终止线段相切
- 具有仿射变换性质，可以通过移动控制点移动整条曲线
- 凸包性质，曲线一定不会超出所有控制点构成的多边形范围 
  - 凸包：墙上许多钉子，用一条橡皮筋包住最外边的钉子，再松手，橡皮筋收缩后的外框就是凸包。
    ![](/images/posts/1694856374449-aa7c4192-38e9-47cb-82d0-613e44d320ca.png)

## 分段贝塞尔曲线

传统贝塞尔曲线的缺点：当控制点多的时候不好控制曲线的形状。

分段贝塞尔曲线：将一条高次曲线分成多条低次曲线的拼接，其中用的最多的便是用很多的3次曲线来拼接。
![](/images/posts/1694856374395-5c44e0ae-6a41-4678-8adb-ce6179de6cde.png)
分段贝塞尔曲线的连续性：$C_{n}$连续，表示n阶导数连续。

# 贝塞尔曲面

![](/images/posts/1694856374534-2250d5d7-3dad-4348-bc6f-3fafc7b68f0a.png)
以$4\times 4$控制点的贝塞尔曲面为例：
![](/images/posts/1694856374534-4096d502-60c8-41ea-b81e-270808d58901.png)

1. 在这4个控制点之下利用第一个参数 u 运用第一章的计算贝塞尔曲线的方法得到蓝色点，因为有4列，所以一共可以得到如图所示的4个蓝色点。(灰色曲线分别为每列4个点所对应的贝塞尔曲线)
2. 在得到4个蓝色顶点之后，在这四个蓝色顶点的基础之下利用第二个参数 v 便可以成功得出贝塞尔曲面上一个点
3. 遍历所有的 u，v值就可以成功得到一个贝塞尔曲面

![](/images/posts/1694856375225-b0b616e4-6b8b-4d11-9ea5-e7892e060841.png)